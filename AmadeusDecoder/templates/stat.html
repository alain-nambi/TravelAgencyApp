<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, maximum-scale=10">
    <title>
        {% block title %}
        Gestion PNR
        {% endblock %}
      </title>
      <link rel="icon" type="image/x-icon" href="{% static 'image/app-logo.png' %}">
    {% block css %}
  <style>
    .tr-danger {
      color: red !important;
    }

    .tr-danger:hover {
      color: red !important;
    }
    .tr-warning {
      color: #D2691E !important;
    }

    .tr-warning:hover {
      color: #D2691E !important;
    }
  </style>

  <link rel="stylesheet" href="{% static 'css/multi-insert.css' %}">

  <!--fontawesome-->
  <!-- <link rel="stylesheet" href="{% static 'font/css/all.min.css' %}"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- admin lte -->
  <!-- <link rel="stylesheet" href="{% static 'css/adminlte.css' %}"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.2.0/css/adminlte.min.css" integrity="sha512-IuO+tczf4J43RzbCMEFggCWW5JuX78IrCJRFFBoQEXNvGI6gkUw4OjuwMidiS4Lm9Q2lILzpJwZuMWuSEeT9UQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Toastr -->
  <!-- <link rel="stylesheet" href="{% static 'plugins/toastr/toastr.min.css' %}"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.css" integrity="sha512-6S2HWzVFxruDlZxI3sXOZZ4/eJ8AcxkQH1+JjSe/ONCEqR9L4Ysq5JdT5ipqtzU7WHalNwzwBv+iE51gNHJNqQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- <link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" integrity="sha512-aOG0c6nPNzGk+5zjwyJaoRUgCdOrfSDhmMID2u4+OIslr0GjpLKo7Xm0Ao3xmpM4T8AmIouRkqwj1nrdVsLKEQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.5.0/pagination.min.css" integrity="sha512-K1k7jSn9RDKEcn/ugqVVvWYu0bcS3q1w6m/5pQSnrj0bCfIqF6Wk49lkmckSb4wglvTP9V17LtS0q0XxYccXbg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- style -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <!-- tablesort-->
  <link href="{% static 'css/theme.default.css' %}" rel="stylesheet">


  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0/css/select2.min.css" rel="stylesheet" />

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.css" integrity="sha512-Y+AaVWdRf6zsGm7eV+EGOIuqYZoi2wUQ7wF8oHbnLy8k2zdVGSxyjn2qDUMFkLRy/9mqOAE5BeyEqx1yxDTQIw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  {% endblock %}
<script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="https://cdn.canvasjs.com/canvasjs.min.js"></script> 
<script type="text/javascript">
    var currentDate = new Date();
    var currentMonth = currentDate.getMonth() + 1;

    {% comment %} Destination data  {% endcomment %}
    var destinations = {{all_data|safe}}
    var all_destination_by_month = (destinations.filter(element => element['month'] === currentMonth))[0]; 

    var origins = {{all_data_origin|safe}}
    var all_origin_by_month = (origins.filter(element => element['month'] === currentMonth))[0]; 

    var airlines_data = {{all_data_airline|safe}}
    var all_airline_by_month = (airlines_data.filter(element => element['month'] === currentMonth))[0];

    var passenger_by_month = {{passenger_by_month|safe}}

    window.onload = function () {
        var selectMonth = document.getElementById("DestinationSelectMonth");
        var selectOriginMonth = document.getElementById("OriginSelectMonth");
        var selectAirlineMonth = document.getElementById("AirlineSelectMonth");


        // Obtenir les noms des mois
        var months = new Array(12);
        for (var i = 0; i < months.length; i++) {
            var date = new Date(2022, i, 1); // Créer une date pour chaque mois
            var monthName = date.toLocaleString('default', { month: 'long' }); // Obtenir le nom du mois
            var option = document.createElement("option");
            option.text = monthName;
            option.value = i + 1; // Les valeurs commencent souvent à 1 pour janvier
            selectMonth.appendChild(option);
        }

        for (var i = 0; i < months.length; i++) {
            var date = new Date(2022, i, 1); // Créer une date pour chaque mois
            var monthName = date.toLocaleString('default', { month: 'long' }); // Obtenir le nom du mois
            var option = document.createElement("option");
            option.text = monthName;
            option.value = i + 1; // Les valeurs commencent souvent à 1 pour janvier
            selectOriginMonth.appendChild(option);
        }

        for (var i = 0; i < months.length; i++) {
            var date = new Date(2022, i, 1); // Créer une date pour chaque mois
            var monthName = date.toLocaleString('default', { month: 'long' }); // Obtenir le nom du mois
            var option = document.createElement("option");
            option.text = monthName;
            option.value = i + 1; // Les valeurs commencent souvent à 1 pour janvier
            selectAirlineMonth.appendChild(option);
        }

        

        // Destination Chart
        var chart = new CanvasJS.Chart("chartContainer", {
            theme: "light2",
            animationEnabled: true,
            toolTip: {
              shared: true
            },
            axisY: {
              title: "Nombre de passager",
              valueFormatString: "#,###"
            },
            legend: {
              cursor: "pointer",
              itemclick: toggleDataSeries
            },
            data: all_destination_by_month.data.map((element) => ({
              
                type: "bar",
                name: element.year,
                showInLegend: true,
                yValueFormatString: "#,### Passagers",
                dataPoints: element.data
            })),
              
        });
        chart.render();
         
        // Passager par tranche d'age
        var chart_2 = new CanvasJS.Chart("chartContainer2", {
            animationEnabled: true,
            data: [{
              type: "pie",
              legendText: "{label}",
              yValueFormatString: "#,###\"%\"",
              indexLabel: "{label} ({y})",
              dataPoints: {{ passenger_by_age|safe }}
            }]
        });
        chart_2.render();

        // Passager par origine
        var chart_3 = new CanvasJS.Chart("chartContainer3", {
            theme: "light2",
            animationEnabled: true,
            toolTip: {
              shared: true
            },
            axisY: {
              title: "Nombre de passager",
              valueFormatString: "#,###"
            },
            legend: {
              cursor: "pointer",
              itemclick: toggleDataSeries
            },
            data: all_origin_by_month.data.map((element) => ({
              
                type: "bar",
                name: element.year,
                showInLegend: true,
                yValueFormatString: "#,### Passagers",
                dataPoints: element.data
            })),
              
        });
        chart_3.render();

        // Nombre de passager par compagnie aérienne

        var chart_4= new CanvasJS.Chart("chartContainer4", {
            animationEnabled: true,
            exportEnabled: false,
          
            legend: {
                cursor: "pointer",
                itemclick: hideUnhideDataSeries
            },

            data: all_airline_by_month.data.map((element) => ({
                type: "column",
                name: element.year,
                showInLegend: true,
            dataPoints: element.data
            })),
          });
          chart_4.render();
        
          function toggleDataSeries(e) {
            if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                e.dataSeries.visible = false;
            } else {
                e.dataSeries.visible = true;
            }
            e.chart.render();
        }
        function hideUnhideDataSeries(e) {
          if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
            e.dataSeries.visible = false;
          } else {
            e.dataSeries.visible = true;
          }
 
          e.chart.render();
        }

        var chart_5 = new CanvasJS.Chart("chartContainer5", {
            exportEnabled: false,
            animationEnabled: true,
            theme: "light1",
            title: {
                text: "Nombre de Passager par mois"
              },
            axisY: {
              title: "Nombre de Passager",
              titleFontColor: "#4F81BC",
              lineColor: "#4F81BC",
              labelFontColor: "#4F81BC",
              tickColor: "#4F81BC",
              includeZero: true
            },
            axisY2: {
              title: "Clicks",
              titleFontColor: "#C0504E",
              lineColor: "#C0504E",
              labelFontColor: "#C0504E",  
              tickColor: "#C0504E"
            },
            toolTip: {
              shared: true
            },
            legend: {
              cursor: "pointer",
              itemclick: toggleDataSeries
            },
            data: passenger_by_month.map((element) => ({
              type: "spline",
              name: element.year,
              lineDashType: "dot",
              showInLegend: true,
              yValueFormatString: "#,### Passagers",
              dataPoints: element.data
            }))
        });
          chart_5.render();

        // Changer les données de destination par rapport au mois choisi
        $("#DestinationSelectMonth").change(function (){
            var selectedMonth = $("#DestinationSelectMonth").val();
            
            new_destination_by_month = (destinations.filter(element => element['month'] === parseInt(selectedMonth)))[0];
            
            chart.options.data = new_destination_by_month.data.map((element) => ({
              
                type: "bar",
                name: element.year,
                showInLegend: true,
                yValueFormatString: "#,### Passagers",
                dataPoints: element.data
            }));
            chart.render();
        });

        // Changer les données d'origine par rapport au mois choisi
        $("#OriginSelectMonth").change(function (){
            var selectedMonth = $("#OriginSelectMonth").val();
            
            new_origin_by_month = (origins.filter(element => element['month'] === parseInt(selectedMonth)))[0];
            
            chart_3.options.data = new_origin_by_month.data.map((element) => ({
                type: "bar",
                name: element.year,
                showInLegend: true,
                yValueFormatString: "#,### passagers",
                dataPoints: element.data
                
            }));
            chart_3.render();
        });

        // Changer les données des compagnies aérienne par rapport au mois choisi
        $("#AirlineSelectMonth").change(function (){
            var selectedMonth = $("#AirlineSelectMonth").val();
            
            new_airline_by_month = (airlines_data.filter(element => element['month'] === parseInt(selectedMonth)))[0];
            
            chart_4.options.data = new_airline_by_month.data.map((element) => ({
              
                type: "column",
                name: element.year,
                showInLegend: true,
                dataPoints: element.data
            }));
            chart_4.render();
        });


        $("#updateDataPoint").click(function () {

        var length = chart.options.data[0].dataPoints.length;
        chart.options.title.text = "Last DataPoint Updated";
        chart.options.data[0].dataPoints[length-1].y = 15 - Math.random() * 10;
        chart.render();

        });
    }
</script>
</head>  
<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed sidebar-collapse" id="pushed-content" style="margin-top:6rem;">
    {% block body %}

    <div class="wrapper">
        <nav class="main-header navbar navbar-expand navbar-white navbar-light shadow" id="layoutHomeMenu">
            <form method='POST' action=''>
                    <!-- Left navbar links -->
                <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" id="pushed-sidebar" data-widget="pushmenu" href="#" role="button"><i
                        class="fas fa-bars"></i></a>   
                </li>
                <li class="nav-item">
                    {% include "commandes_modal.html" %}
                </li>
                <li class="nav-item ml-5 d-flex" style="gap: 0.5rem;">
                    <div class="align-items-center">
                    <span id="mail-user" data-mail="issoufali.pnr@outlook.com;{{request.user.email}}">issoufali.pnr@outlook.com;{{request.user.email}}</span>
                    <a type="button" class="btn btn-outline-primary zenith" onclick="copymailuser()">Zenith</a> 
                    
                    </div>
                    <div id="pnrNotUpdated">
                        <button 
                        type="button" 
                        class="btn btn-outline-danger zenith" 
                        data-toggle="modal" 
                        data-target="#modalPnrNotUpdated" 
                        title="Pnr non remonté"
                        id = "pnr-not-fetched"
                        >
                        <i class="fa fa-upload"></i>
                        Pnr non remonté
                        </button>
                    </div>
        
                </li>
                </ul>
            </form>
    
            <!-- Right navbar links -->
            <ul class="navbar-nav ml-auto">
            
            <li class="nav-item">
                
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link" data-toggle="dropdown" href="#">
                <i class="far fa-user"></i> {{request.user.username}}
                </a>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                <a href="{% url 'account' %}" class="dropdown-item">
                    Mon compte
                </a>
                <div class="dropdown-divider"></div>
                <a href="{% url 'logout' %}" class="dropdown-item">
                    <i class="fa fa-sign-out" aria-hidden="true"></i>
                    Se déconnecter
                </a>
                </div>
            </li>
            </ul>
        </nav>
        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4 shadow">
            <!-- Sidebar -->
            <div class="sidebar  mt-0">
            <div class="content-logo mt-3 pb-3 mb-3 d-flex justify-content-center">
                <div class="image">
                <img src="{% static 'image/app-logo.png' %}" class="logo">
                </div>
            </div>
    
            <!-- Sidebar Menu -->
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <!--li class="nav-item">
                    <a href="{% url 'dashboard' %}" class="nav-link">
                    <i class="nav-icon fas fa-tachometer-alt"></i>
                    <p>Tableau de bord</p>
                    </a>
                </li-->
                <!--menu admin role_id=1-->
                {% if request.user.role_id == 1 %}
                <li class="nav-item">
                    <a href="{% url 'home' %}" class="nav-link">
                    <i class="far fa-clipboard nav-icon"></i>
                    <p>Gestion PNR</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'customers' %}" class="nav-link">
                    <i class="fas fa-user-tie nav-icon"></i>
                    <p>Clients</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'users' %}" class="nav-link">
                    <i class="fas fa-users nav-icon"></i>
                    <p>Utilisateurs</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'setting' %}" class="nav-link">
                    <i class="fas fa-wrench nav-icon" aria-hidden="true"></i>
                    <p>Configurations</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'tools' %}" class="nav-link">
                    <i class="fa fa-cog nav-icon" aria-hidden="true"></i>
                    <p>Outils</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'comment-list' %}" class="nav-link">
                    <i class="fas fa-exclamation nav-icon"></i>
                    <p>Anomalies PNR</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'get_all_pnr_unordered' %}" class="nav-link">
                    <i class="fas fa-trash-can nav-icon"></i>
                    <p>PNR Décommandés</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'get_all_canceled_ticket' %}" class="nav-link">
                    <i class="fas fa-ban nav-icon"></i>
                    <p>Billets annulés</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'all_unremounted_pnr' %}" class="nav-link">
                    <i class="fas fa-clock nav-icon"></i>
                    <p>PNR Non remonté</p>
                    </a>
                </li>
    
                <li class="nav-item">
                    <a href="{% url 'get_all_anomalies' %}" class="nav-link">
                    <i class="fas fa-clock nav-icon"></i>
                    <p>Anomalie en attente</p>
                    </a>
                </li>
    
                <li class="nav-item">
                    <a href="{% url 'graph_view' %}" class="nav-link">
                    <i class="fas fa-chart-bar nav-icon"></i>
                    <p>Statistiques</p>
                    </a>
                </li>
                {% endif %}
                <!--menu direction role_id=2-->
                {% if request.user.role_id == 2 %}
                <li class="nav-item">
                    <a href="{% url 'home' %}" class="nav-link">
                    <i class="far fa-clipboard nav-icon"></i>
                    <p>Gestion PNR</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'customers' %}" class="nav-link">
                    <i class="fas fa-user-tie nav-icon"></i>
                    <p>Clients</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'users' %}" class="nav-link">
                    <i class="fas fa-users nav-icon"></i>
                    <p>Utilisateurs</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'comment-list' %}" class="nav-link">
                    <i class="fas fa-exclamation nav-icon"></i>
                    <p>Anomalies PNR</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'graph_view' %}" class="nav-link">
                    <i class="fas fa-chart-bar nav-icon"></i>
                    <p>Statistiques</p>
                    </a>
                </li>
                {% endif %}
                <!--menu agent comptoir role_id=3-->
                {% if request.user.role_id == 3 %}
                <li class="nav-item">
                    <a href="{% url 'home' %}" class="nav-link">
                    <i class="far fa-clipboard nav-icon"></i>
                    <p>Gestion PNR</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'customers' %}" class="nav-link">
                    <i class="fas fa-user-tie nav-icon"></i>
                    <p>Clients</p>
                    </a>
                </li>
                {% endif %}
                <!--menu agent contrôle role_id=4-->
                {% if request.user.role_id == 4 %}
                <li class="nav-item">
                    <a href="{% url 'home' %}" class="nav-link">
                    <i class="far fa-clipboard nav-icon"></i>
                    <p>Gestion PNR</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'customers' %}" class="nav-link">
                    <i class="fas fa-user-tie nav-icon"></i>
                    <p>Clients</p>
                    </a>
                </li>
                {% endif %}
                <!--menu centre affaire role_id=5-->
                {% if request.user.role_id == 5 %}
                <li class="nav-item">
                    <a href="{% url 'home' %}" class="nav-link">
                    <i class="far fa-clipboard nav-icon"></i>
                    <p>Gestion PNR</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'customers' %}" class="nav-link">
                    <i class="fas fa-user-tie nav-icon"></i>
                    <p>Clients</p>
                    </a>
                </li>
                {% endif %}
                </ul>
            </nav>
            <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>
        {% endblock %}
        {% if request.get_full_path == '/home/' %}
        <div class="loading">
            <div class="spinner-wrapper">
                <span class="spinner-text">Chargement...</span>
                <span class="spinner"></span>
            </div>
        </div>
            {% endif %}
            {% block content %} 
            <div class="content-wrapper">
                <section class="content" style="margin-top: 4.7rem">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12">
                                <div class="card card-primary card-outline" style="margin-top: 4rem !important;">
                                    <div class="card-header justify-content-between py-0" >
                                        <div class="row" style="padding:1rem;">
                                            <div class="col-md-6 float-left">
                                                <h3 class="text-primary title-all-pnr mt-1 mb-0">Etat d'Analyse et Statistiques</h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="col-md-12" style="">
                                            <ul class="nav nav-pills mb-3 pillsTab" id="pills-tab" role="tablist" style="justify-content:space-between;">
                                                <li class="nav-item ">
                                                    <a class="nav-link active" id="pills-pnr-tab" data-toggle="pill" href="#pills-pnr" role="tab" aria-controls="pills-pnr" aria-selected="true"><h5 class="m-0">PNR</h5></a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="pills-passager-tab" data-toggle="pill" href="#pills-passager" role="tab" aria-controls="pills-passager" aria-selected="false"><h5 class="m-0">Passager</h5></a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="pills-anomaly-tab" data-toggle="pill" href="#pills-anomaly" role="tab" aria-controls="pills-anomaly" aria-selected="false"><h5 class="m-0">Anomalie</h5></a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="pills-users-tab" data-toggle="pill" href="#pills-users" role="tab" aria-controls="pills-users" aria-selected="false"><h5 class="m-0">Utilisateurs</h5></a>
                                                </li>
                                            </ul>
                                        </div>

                                        <div class="tab-content" id="pills-tabContent" style="margin:30px 0 0 -18px;">
                                            <div class="tab-pane fade show active" id="pills-pnr" role="tabpanel" aria-labelledby="pills-pnr-tab">
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">
                                                                    <div class="col-auto">
                                                                        <i class="fas fa-users text-danger" style="font-size:70px;"></i>
                                                                    </div>
                    
                                                                    <div class="col-auto">
                                                                        <h2 class="text-muted m-b-10" style="margin-left:2rem;">Passagers</h2>
                                                                        <h2 class="m-b-0" style="margin-left:4rem;">{{total_passenger}}</h2>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                    </div>
                                                    
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">
                                                                    <div class="col-auto">
                                                                        <i class="fas fa-plane text-info" style="font-size:70px;"></i>
                                                                    </div>
                    
                                                                    <div class="col-auto">
                                                                        <h2 class="text-muted m-b-10" style="margin-left:2rem;">Compagnies</h2>
                                                                        <span class="text-muted" style="margin-left:3rem;">Les plus utilisées</span>
                                                                        <h2 class="m-b-0" style="margin-left:5rem;">{{total_most_used_airlines}}</h2>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                    </div>
                    
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">

                                                                    <div class="col-auto">
                                                                        <i class="fa fa-user-plus" style="font-size:70px;color:#C3FF93;"></i>
                                                                        
                                                                    </div>

                                                                    <div class="col-auto" style="margin-left:3rem">
                                                                        <h3 class="mb-2">{{passenger_of_today}}</h3>
                                                                        <p class="mb-2">Passagers créés aujourd'hui</p>
                                                                        <div class="mb-0">
                                                                            <span class="text-success text-sm font-weight-bolder">+5.35%</span>
                                                                            <span class="text-muted">depuis hier</span>
                                                                        </div>
                                                                    </div>

                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                    
                                                    </div>
                    
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">

                                                                    <div class="col-auto">
                                                                        <i class="fa fa-bar-chart" style="font-size:70px;color:#FFF455;"></i>
                                                                        
                                                                    </div>

                                                                    <div class="col-auto" style="margin-left:3rem">
                                                                        <h3 class="mb-2">{{passenger_of_today}}</h3>
                                                                        <p class="mb-2">Passagers créés ce mois-ci</p>
                                                                        <div class="mb-0">
                                                                            <span class="text-success text-sm font-weight-bolder">+5.35%</span>
                                                                            <span class="text-muted">depuis le dernier mois</span>
                                                                        </div>
                                                                    </div>

                                                                    
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                    </div>
                                                    
                                                </div>
        
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="" style="padding: 10px 10px 10px 10px;" >
                                                                <div class="row">
                                                                    <h3 class="card-title align-items-start flex-column col-md-6" style="margin-top:1rem;">
                                                                        <span class="card-label text-gray-800 fs-2" style="font-weight:bolder;">Total Passager par Destinations</span>
                                                                        
                                                                    </h3>
                                                                    <div class="col-md-6">
                                                                        <div class="dropdown " style="float:right;">                               
                                                                            <div class="input-group ">
                                                                            <div class="input-group-prepend">
                                                                                <label class="input-group-text" for="selectMonth">Mois</label>
                                                                            </div>
                                                                            <select class="custom-select" id="DestinationSelectMonth">
                                                                                <option selected>Choose...</option>
                                                                            </select>
                                                                            </div>
                                                                                
                                                                        </div>
                                                                    </div>
                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                            <hr>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    
                                                                    <div id="chartContainer" style="width:100%; height:380px"></div>  
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="" style="padding: 10px 10px 10px 10px;">
                                                                
                                                                <h3 class="card-title align-items-start flex-column">
                                                                    <span class="card-label  text-gray-800 fs-2" style="font-weight:bolder;">Passagers par tranche d'âge</span>
                                                                   
                                                                </h3>
                                                                
                                                            </div>
                                                            <hr>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="chartContainer2" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    
                                                </div>
                                                
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="card-header" style="position:sticky !important;">
                                                                
                                                                <h3 class="card-title align-items-start flex-column">
                                                                    <span class="card-label  text-gray-800 fs-2" style="font-weight:bolder;">Passagers par Origine</span>
                                                                </h3>
                    
                                                                <div class="dropdown" style="float:right;">
                                                                    
                                                                    <div class="input-group ">
                                                                    <div class="input-group-prepend">
                                                                        <label class="input-group-text" for="selectMonth">Mois</label>
                                                                    </div>
                                                                    <select class="custom-select" id="OriginSelectMonth">
                                                                        <option selected>Choose...</option>
                                                                    </select>
                                                                    </div>
                                                                        
                                                                </div>
                                                            </div>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="chartContainer3" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                    
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="card-header" style="position:sticky !important;">
                                                                
                                                                <h3 class="card-title align-items-start flex-column">
                                                                    <span class="card-label  text-gray-800 fs-2" style="font-weight:bolder;">Passagers par Compagnie Aérienne</span>
                                                                    
                                                                </h3>
                    
                                                                <div class="dropdown" style="float:right;">
                                                                    
                                                                    <div class="input-group ">
                                                                    <div class="input-group-prepend">
                                                                        <label class="input-group-text" for="selectMonth">Mois</label>
                                                                    </div>
                                                                    <select class="custom-select" id="AirlineSelectMonth">
                                                                        <option selected>Choose...</option>
                                                                    </select>
                                                                    </div>
                                                                        
                                                                </div>
                                                            </div>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="chartContainer4" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-lg-12">
                                                        <div class="flex-fill w-100 card">
                                                            
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="chartContainer5" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                    
                                                    
                                                </div>
                                            </div>
                                            <div class="tab-pane fade show active" id="pills-passager" role="tabpanel" aria-labelledby="pills-passager-tab">
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">
                                                                    <div class="col-auto">
                                                                        <i class="fa fa-file-text text-info" style="font-size:70px;"></i>
                                                                    </div>
                    
                                                                    <div class="col-auto" style="margin-left:3rem">
                                                                        <h2 class="text-muted m-b-10" style="margin-left:2rem;">PNR</h2>
                                                                        <h2 class="m-b-0" style="margin-left:1rem;">{{total_pnr}}</h2>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                    </div>
                                                    
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">
                                                                    <div class="row align-items-center m-l-0">

                                                                        <div class="col-auto">
                                                                            <i class="fa fa-rocket" style="font-size:70px;color:#C3FF93;"></i>
                                                                            
                                                                        </div>
    
                                                                        <div class="col-auto" style="margin-left:3rem">
                                                                            <h3 class="mb-2">{{pnr_of_today}}</h3>
                                                                            <p class="mb-2">PNR remonté aujourd'hui</p>
                                                                            <div class="mb-0">
                                                                                <span class="text-success text-sm font-weight-bolder">+5.35%</span>
                                                                                <span class="text-muted">depuis hier</span>
                                                                            </div>
                                                                        </div>
    
                                                                        
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                    </div>
                    
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">

                                                                    <div class="col-auto">
                                                                        <i class="fa fa-cloud-upload" style="font-size:70px;color:#FFF455;"></i>
                                                                        
                                                                    </div>

                                                                    <div class="col-auto" style="margin-left:3rem">
                                                                        <h3 class="mb-2">{{pnr_invoiced_today}}</h3>
                                                                        <p class="mb-2">PNR commandé aujourd'hui</p>
                                                                        <div class="mb-0">
                                                                            <span class="text-success text-sm font-weight-bolder">+5.35%</span>
                                                                            <span class="text-muted">depuis hier</span>
                                                                        </div>
                                                                    </div>

                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                    
                                                    </div>
                    
                                                    <div class="d-flex col-xl col-md-6">
                                                        <div class="flex-fill card">
                                                            <div class=" py-4 card-body">
                                                                <div class="row align-items-center m-l-0">

                                                                    <div class="col-auto">
                                                                        <i class="fa fa-window-close text-danger" style="font-size:70px;"></i>
                                                                        
                                                                    </div>

                                                                    <div class="col-auto" style="margin-left:3rem">
                                                                        <h3 class="mb-2">{{pnr_to_invoice}}</h3>
                                                                        <p class="mb-2">PNR à commandé aujourd'hui</p>
                                                                        <div class="mb-0">
                                                                            <span class="text-success text-sm font-weight-bolder">+5.35%</span>
                                                                            <span class="text-muted">depuis le dernier mois</span>
                                                                        </div>
                                                                    </div>

                                                                    
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                    </div>
                                                    
                                                </div>
        
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="" style="padding: 10px 10px 10px 10px;" >
                                                                <div class="row">
                                                                    <h3 class="card-title align-items-start flex-column col-md-6" style="margin-top:1rem;">
                                                                        <span class="card-label text-gray-800 fs-2" style="font-weight:bolder;">Total Passager par Destinations</span>
                                                                        
                                                                    </h3>
                                                                    <div class="col-md-6">
                                                                        <div class="dropdown " style="float:right;">                               
                                                                            <div class="input-group ">
                                                                            <div class="input-group-prepend">
                                                                                <label class="input-group-text" for="selectMonth">Mois</label>
                                                                            </div>
                                                                            <select class="custom-select" id="DestinationSelectMonth">
                                                                                <option selected>Choose...</option>
                                                                            </select>
                                                                            </div>
                                                                                
                                                                        </div>
                                                                    </div>
                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                            <hr>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    
                                                                    <div id="PnrchartContainer" style="width:100%; height:380px"></div>  
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="" style="padding: 10px 10px 10px 10px;">
                                                                
                                                                <h3 class="card-title align-items-start flex-column">
                                                                    <span class="card-label  text-gray-800 fs-2" style="font-weight:bolder;">Passagers par tranche d'âge</span>
                                                                   
                                                                </h3>
                                                                
                                                            </div>
                                                            <hr>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="PnrchartContainer2" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    
                                                </div>
                                                
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="card-header" style="position:sticky !important;">
                                                                
                                                                <h3 class="card-title align-items-start flex-column">
                                                                    <span class="card-label  text-gray-800 fs-2" style="font-weight:bolder;">Passagers par Origine</span>
                                                                </h3>
                    
                                                                <div class="dropdown" style="float:right;">
                                                                    
                                                                    <div class="input-group ">
                                                                    <div class="input-group-prepend">
                                                                        <label class="input-group-text" for="selectMonth">Mois</label>
                                                                    </div>
                                                                    <select class="custom-select" id="OriginSelectMonth">
                                                                        <option selected>Choose...</option>
                                                                    </select>
                                                                    </div>
                                                                        
                                                                </div>
                                                            </div>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="PnrchartContainer3" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                    
                                                    <div class="d-flex col-lg-6">
                                                        <div class="flex-fill w-100 card">
                                                            <div class="card-header" style="position:sticky !important;">
                                                                
                                                                <h3 class="card-title align-items-start flex-column">
                                                                    <span class="card-label  text-gray-800 fs-2" style="font-weight:bolder;">Passagers par Compagnie Aérienne</span>
                                                                    
                                                                </h3>
                    
                                                                <div class="dropdown" style="float:right;">
                                                                    
                                                                    <div class="input-group ">
                                                                    <div class="input-group-prepend">
                                                                        <label class="input-group-text" for="selectMonth">Mois</label>
                                                                    </div>
                                                                    <select class="custom-select" id="AirlineSelectMonth">
                                                                        <option selected>Choose...</option>
                                                                    </select>
                                                                    </div>
                                                                        
                                                                </div>
                                                            </div>
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="PnrchartContainer4" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="row" style="padding-left:10px;">
                                                    <div class="d-flex col-lg-12">
                                                        <div class="flex-fill w-100 card">
                                                            
                                                            <div class="d-flex card-body">
                                                                <div class="align-self-center w-100">
                                                                    <div id="PnrchartContainer5" style="width: 100%; height: 360px;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                    
                                                    
                                                </div>
                                            </div>
                                        </div>
            
                                        
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
                
            {% endblock content %}
            
            {% block footer %}
            <!-- Main Footer -->
            <footer class="main-footer p-1">
            <div class="d-none d-sm-block float-right ">
                <strong class="text-center">&copy; 2023 <a href="https://phidia.fr">Phidia</a>.</strong> Tous droits réservés.
                <b>Version</b> 1.6.12 
            </div>
            
            </footer>
            {% endblock footer%}
    </div>
      <!-- ./wrapper -->

  

</body>
</html>
